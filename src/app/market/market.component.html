<br>
<div class="container">
   <table>
      <tr *ngFor="let g of this.importItems">
         <div class="panel panel-default">
            <div class="panel-heading">
               <label>{{g.group}}</label>
            </div>
            <table class="table">
               <!--<ng-template ngFor let-ms [ngForOf]="this.marketService.data">
                  <tr>
                     <td [attr.rowspan]="getNumLocations()">{{ms.typeID}}</td>
                     <td>{{ms.stats[0]?.locationName}}</td>
                     <td>2</td>
                  </tr>
                  <ng-template ngFor let-mls [ngForOf]="ms.stats" let-i="index">
                     <tr *ngIf="i > 0">
                        <td>{{mls.locationName}}</td>
                        <td>4</td>
                     </tr>
                  </ng-template>
               </ng-template>-->
               <tr>
                  <th>Item</th>
                  <th>Price</th>
                  <th>Quantity</th>
                  <th>Avg Quan 7D</th>
                  <th>Market Rev</th>
                  <th>Export Price</th>
                  <th>Profit</th>
                  <th>Profit per m<sup>3</sup></th>
                  <th>Margin</th>
               </tr>
               <tr *ngFor="let i of g.items" [ngClass]="{'danger': getItem(i)?.stats[0].totVolume == 0}">
                  <td>{{getItem(i)?.typeName}}</td>
                  <td>{{this.fmt(getItem(i)?.stats[0].price)}}</td>
                  <td>{{getItem(i)?.stats[0].totVolume}} ({{getItem(i)?.stats[0].totOrders}})</td>
                  <td>{{getItem(i)?.avgVol7Day.toFixed(0)}}</td>
                  <td>{{this.fmtBig(getItem(i)?.avgVol7Day * getItem(i)?.avgPrice)}}</td>
                  <td>{{this.fmt(getItem(i)?.stats[1].price)}}</td>
                  <td>{{this.calc(i).profit}}</td>
                  <td>{{this.calc(i).profitPerM3}}</td>
                  <td>{{this.calc(i).margin}}%</td>
               </tr>
            </table>
         </div>
      </tr>
   </table>
</div>